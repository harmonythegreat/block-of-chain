(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"/19t":function(e,t,r){"use strict";r.d(t,"a",(function(){return ye})),r.d(t,"b",(function(){return O})),r.d(t,"c",(function(){return we}));var n=r("q1tI"),o=r("nKUr"),i=r("H1r7"),u=r.n(i),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function l(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function f(e,t,r,n){return new(r||(r=Promise))((function(o,i){function u(e){try{c(n.next(e))}catch(t){i(t)}}function a(e){try{c(n.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,a)}c((n=n.apply(e,t||[])).next())}))}function v(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var d;!function(e){e.ONE_INCH="oneInch",e.OPEN_SEA="opensea",e.FIAT="fiat",e.RARIBLE="rarible"}(d||(d={}));new Intl.NumberFormat("en-us",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}),new Intl.NumberFormat("en-us",{style:"decimal",minimumSignificantDigits:1,maximumSignificantDigits:4});var p=Object(n.createContext)(null),b=function(e){function t(t){var r=e.call(this,"[react-moralis]: ".concat(t))||this;return r.name="ReactMoralisError",r.message=t,r}return c(t,e),t.isReactMoraliserrpr=!0,t}(Error),h=function(e){function t(t){var r=e.call(this,t)||this;return r.name="NoMoralisContextProviderError",r}return c(t,e),t}(b),y=function(e){function t(t){var r=e.call(this,t)||this;return r.name="NotAuthenticatedError",r}return c(t,e),t}(b),w=function(e){function t(t){var r=e.call(this,t)||this;return r.name="ValidationError",r}return c(t,e),t}(b),O=function(){var e=Object(n.useContext)(p);if(!e)throw new h("Make sure to only call useMoralis within a  <MoralisProvider>");return e};function E(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function g(e){return!!e&&!!e[ue]}function m(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===ae}(e)||Array.isArray(e)||!!e[ie]||!!e.constructor[ie]||U(e)||S(e))}function j(e,t,r){void 0===r&&(r=!1),0===A(e)?(r?Object.keys:ce)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function A(e){var t=e[ue];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:U(e)?2:S(e)?3:0}function I(e,t){return 2===A(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t,r){var n=A(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function U(e){return te&&e instanceof Map}function S(e){return re&&e instanceof Set}function T(e){return e.o||e.t}function N(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=se(e);delete t[ue];for(var r=ce(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function C(e,t){return void 0===t&&(t=!1),_(e)||g(e)||!m(e)||(A(e)>1&&(e.set=e.add=e.clear=e.delete=D),Object.freeze(e),t&&j(e,(function(e,t){return C(t,!0)}),!0)),e}function D(){E(2)}function _(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function M(e){var t=le[e];return t||E(18,e),t}function R(){return Z}function k(e,t){t&&(M("Patches"),e.u=[],e.s=[],e.v=t)}function W(e){x(e),e.p.forEach(K),e.p=null}function x(e){e===Z&&(Z=e.l)}function F(e){return Z={p:[],l:Z,h:e,m:!0,_:0}}function K(e){var t=e[ue];0===t.i||1===t.i?t.j():t.O=!0}function H(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.g||M("ES5").S(t,e,n),n?(r[ue].P&&(W(t),E(4)),m(e)&&(e=z(t,e),t.l||L(t,e)),t.u&&M("Patches").M(r[ue],e,t.u,t.s)):e=z(t,r,[]),W(t),t.u&&t.v(t.u,t.s),e!==oe?e:void 0}function z(e,t,r){if(_(t))return t;var n=t[ue];if(!n)return j(t,(function(o,i){return G(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return L(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=N(n.k):n.o;j(3===n.i?new Set(o):o,(function(t,i){return G(e,n,o,t,i,r)})),L(e,o,!1),r&&e.u&&M("Patches").R(n,r,e.u,e.s)}return n.o}function G(e,t,r,n,o,i){if(g(o)){var u=z(e,o,i&&t&&3!==t.i&&!I(t.D,n)?i.concat(n):void 0);if(P(r,n,u),!g(u))return;e.m=!1}if(m(o)&&!_(o)){if(!e.h.F&&e._<1)return;z(e,o),t&&t.A.l||L(e,o)}}function L(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&C(t,r)}function J(e,t){var r=e[ue];return(r?T(r):e)[t]}function $(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function q(e){e.P||(e.P=!0,e.l&&q(e.l))}function B(e){e.o||(e.o=N(e.t))}function V(e,t,r){var n=U(t)?M("MapSet").N(t,r):S(t)?M("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:R(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=fe;r&&(o=[n],i=ve);var u=Proxy.revocable(o,i),a=u.revoke,c=u.proxy;return n.k=c,n.j=a,c}(t,r):M("ES5").J(t,r);return(r?r.A:R()).p.push(n),n}function X(e){return g(e)||E(22,e),function e(t){if(!m(t))return t;var r,n=t[ue],o=A(t);if(n){if(!n.P&&(n.i<4||!M("ES5").K(n)))return n.t;n.I=!0,r=Q(t,o),n.I=!1}else r=Q(t,o);return j(r,(function(t,o){n&&function(e,t){return 2===A(e)?e.get(t):e[t]}(n.t,t)===o||P(r,t,e(o))})),3===o?new Set(r):r}(e)}function Q(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return N(e)}var Y,Z,ee="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),te="undefined"!=typeof Map,re="undefined"!=typeof Set,ne="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,oe=ee?Symbol.for("immer-nothing"):((Y={})["immer-nothing"]=!0,Y),ie=ee?Symbol.for("immer-draftable"):"__$immer_draftable",ue=ee?Symbol.for("immer-state"):"__$immer_state",ae=""+Object.prototype.constructor,ce="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,se=Object.getOwnPropertyDescriptors||function(e){var t={};return ce(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},le={},fe={get:function(e,t){if(t===ue)return e;var r=T(e);if(!I(r,t))return function(e,t,r){var n,o=$(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!m(n)?n:n===J(e.t,t)?(B(e),e.o[t]=V(e.A.h,n,e)):n},has:function(e,t){return t in T(e)},ownKeys:function(e){return Reflect.ownKeys(T(e))},set:function(e,t,r){var n=$(T(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=J(T(e),t),i=null==o?void 0:o[ue];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)&&(void 0!==r||I(e.t,t)))return!0;B(e),q(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==J(e.t,t)||t in e.t?(e.D[t]=!1,B(e),q(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=T(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){E(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){E(12)}},ve={};j(fe,(function(e,t){ve[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ve.deleteProperty=function(e,t){return fe.deleteProperty.call(this,e[0],t)},ve.set=function(e,t,r){return fe.set.call(this,e[0],t,r,e[0])};var de=new(function(){function e(e){var t=this;this.g=ne,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var o=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var n=arguments.length,u=Array(n>1?n-1:0),a=1;a<n;a++)u[a-1]=arguments[a];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(u))}))}}var u;if("function"!=typeof r&&E(6),void 0!==n&&"function"!=typeof n&&E(7),m(e)){var a=F(t),c=V(t,e,void 0),s=!0;try{u=r(c),s=!1}finally{s?W(a):x(a)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return k(a,n),H(e,a)}),(function(e){throw W(a),e})):(k(a,n),H(u,a))}if(!e||"object"!=typeof e){if((u=r(e))===oe)return;return void 0===u&&(u=e),t.F&&C(u,!0),u}E(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,r,(function(e,t){n=e,o=t})),n,o];var n,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){m(e)||E(8),g(e)&&(e=X(e));var t=F(this),r=V(this,e,void 0);return r[ue].C=!0,x(t),r},t.finishDraft=function(e,t){var r=(e&&e[ue]).A;return k(r,t),H(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!ne&&E(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=M("Patches").$;return g(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}());de.produce;de.produceWithPatches.bind(de),de.setAutoFreeze.bind(de),de.setUseProxies.bind(de),de.applyPatches.bind(de),de.createDraft.bind(de),de.finishDraft.bind(de);var pe,be=function(e,t){var r=e.password,n=e.email,o=e.username,i=l(e,["password","email","username"]);if(void 0!==r){if("string"!==typeof r)throw new w("password can only be a string type");t.setPassword(r)}if(void 0!==n){if("string"!==typeof n)throw new w("email can only be a string type");t.setEmail(n)}if(void 0!==o){if("string"!==typeof o)throw new w("username can only be a string type");t.setUsername(o)}Object.entries(i).filter((function(e){return void 0!==e[1]})).forEach((function(e){var r=e[0],n=e[1];t.set(r,n)}))};!function(e){e.UNDEFINED="undefined",e.UNAUTHENTICATED="unauthenticated",e.AUTHENTICATED="authenticated",e.AUTHENTICATING="authenticating",e.LOGGING_OUT="logging_out",e.ERROR="error"}(pe||(pe={}));var he={state:pe.UNDEFINED,error:null},ye=function(e){var t=e.children,r=e.appId,i=e.serverUrl,a=e.jsKey,c=e.dangerouslyUseOfMasterKey,d=e.plugins,h=e.environment,w=e.getMoralis,O=e.options,E=(void 0===O?{}:O).onAccountChanged,g=e.initializeOnMount,m=void 0===g||g,j=Object(n.useState)(null!==r&&void 0!==r?r:null),A=j[0],I=j[1],P=Object(n.useState)(null!==i&&void 0!==i?i:null),U=P[0],S=function(e){var t=e.appId,r=e.serverUrl,o=e.jsKey,i=e.dangerouslyUseOfMasterKey,a=e.plugins,c=e.environment,s=void 0===c?"browser":c,l=e.getMoralis,d=void 0===l?function(){return u.a}:l,p=e.initializeOnMount,h=e.setAppId,y=e.setServerUrl,w=Object(n.useState)(!1),O=w[0],E=w[1],g=Object(n.useState)(!1),m=g[0],j=g[1],A=Object(n.useState)(!1),I=A[0],P=A[1],U=Object(n.useRef)(d()),S=Object(n.useCallback)((function(e){var t=e.serverUrl,r=e.appId,n=e.javascriptKey,o=e.masterKey,i=e.plugins;return f(void 0,void 0,void 0,(function(){return v(this,(function(e){switch(e.label){case 0:if(O)return[2];if(!r)throw new b('Provide a "appId" provided to <MoralisProvider>');if(!t)throw new b('Provide a "serverUrl" provided to <MoralisProvider>');return j(!0),[4,U.current.start({serverUrl:t,appId:r,javascriptKey:n,masterKey:o,plugins:i})];case 1:return e.sent(),j(!1),E(!0),[2]}}))}))}),[]);Object(n.useEffect)((function(){O||(p||I)&&(S({appId:t,serverUrl:r,masterKey:i,javascriptKey:o,plugins:a}),E(!0))}),[t,r,i,o,a,O,p,I]);var T=Object(n.useCallback)((function(e){var n=void 0===e?{}:e,o=n.appId,i=n.serverUrl;if(o&&h(o),i&&y(i),!o&&!t)throw new Error("No appId is provided. Please provide an appId to the Moralis.Provider or as argument in initialize()");if(!i&&!r)throw new Error("No serverUrl is provided. Please provide an serverUrl to the Moralis.Provider or as argument in initialize()");P(!0)}),[t,r]);return{isInitialized:O,isInitializing:m,initialize:T,Moralis:U.current,environment:s}}({appId:A,serverUrl:U,jsKey:a,dangerouslyUseOfMasterKey:c,plugins:d,environment:h,getMoralis:w,initializeOnMount:m,setAppId:I,setServerUrl:P[1]}),T=function(e){var t=Object(n.useState)(!1),r=t[0],o=t[1],i=Object(n.useState)(null),u=i[0],a=i[1],c=Object(n.useState)(!1),s=c[0],d=c[1],p=Object(n.useState)(null),b=p[0],h=p[1],y=Object(n.useState)(null),w=y[0],O=y[1],E=Object(n.useState)(null),g=E[0],m=E[1],j=Object(n.useState)(null),A=j[0],I=j[1],P=Object(n.useState)(null),U=P[0],S=P[1];Object(n.useEffect)((function(){var t=function(){h(null),o(!1),O(null),m(null),I(null),S(null)},r=e.onChainChanged((function(t){O(t),h(e.web3)})),n=e.onAccountChanged(m),i=e.onWeb3Enabled((function(e){var t=e.web3,r=e.chainId,n=e.account,o=e.connector,i=e.provider;h(t),O(r),m(n),I(o),S(i)})),u=e.onWeb3Deactivated(t),a=e.onDisconnect(t);return function(){r(),n(),i(),u(),a()}}),[e]);var T=Object(n.useCallback)((function(t){return void 0===t&&(t={}),f(void 0,void 0,void 0,(function(){var r,n,i=t.throwOnError,u=t.onComplete,c=t.onError,s=t.onSuccess,f=l(t,["throwOnError","onComplete","onError","onSuccess"]);return v(this,(function(t){switch(t.label){case 0:d(!0),a(null),t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,e.enableWeb3(f)];case 2:return r=t.sent(),o(!0),s&&s(r),[2,r];case 3:if(n=t.sent(),a(n),i)throw n;return c&&c(n),[3,5];case 4:return d(!1),u&&u(),[7];case 5:return[2]}}))}))}),[]),N=Object(n.useCallback)((function(){return f(void 0,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,e.deactivateWeb3()];case 1:return t.sent(),[2]}}))}))}),[]),C=Object(n.useMemo)((function(){var e;return null!==(e=null===A||void 0===A?void 0:A.network)&&void 0!==e?e:null}),[A]),D=Object(n.useMemo)((function(){var e;return null!==(e=null===A||void 0===A?void 0:A.type)&&void 0!==e?e:null}),[A]);return{enableWeb3:T,web3:b,isWeb3Enabled:r,web3EnableError:u,isWeb3EnableLoading:s,_setIsWeb3Enabled:o,_setIsWeb3EnableLoading:d,chainId:w,account:g,network:C,connector:A,connectorType:D,deactivateWeb3:N,provider:U}}(S.Moralis),N=T._setIsWeb3Enabled,C=T._setIsWeb3EnableLoading,D=l(T,["_setIsWeb3Enabled","_setIsWeb3EnableLoading"]),_=function(e){var t=Object(n.useState)(null),r=t[0],o=t[1],i=Object(n.useState)(!1),u=i[0],a=i[1],c=Object(n.useState)(null),s=c[0],l=c[1],d=Object(n.useCallback)((function(t,n){var i=void 0===n?{}:n,u=i.throwOnError,c=i.onComplete,s=i.onError,d=i.onSuccess;return f(void 0,void 0,void 0,(function(){var n,i,f;return v(this,(function(v){switch(v.label){case 0:if(!r)throw new y("User needs to be authenticated before setting new data");a(!0),l(null),n=!1,v.label=1;case 1:return v.trys.push([1,3,4,5]),be(t,r),n=!0,[4,r.save()];case 2:if(v.sent(),!(i=e.User.current()))throw new b("No user data found after save");return o(i),d&&d(r),[2,r];case 3:if(f=v.sent(),n&&r.revert(),l(f),u)throw f;return s&&s(f),[3,5];case 4:return a(!1),c&&c(),[7];case 5:return[2]}}))}))}),[r]),p=Object(n.useCallback)((function(e){var t=void 0===e?{}:e,n=t.throwOnError,i=t.onComplete,u=t.onError,c=t.onSuccess;return f(void 0,void 0,void 0,(function(){var e,t;return v(this,(function(s){switch(s.label){case 0:if(!r)throw new y("User needs to be authenticated before refetching");a(!0),l(null),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,r.fetch()];case 2:if(!(e=s.sent()))throw new b("No user data found after refetch");return o(e),c&&c(e),[2,e];case 3:if(t=s.sent(),l(t),n)throw t;return u&&u(t),[3,5];case 4:return a(!1),i&&i(),[7];case 5:return[2]}}))}))}),[r]);return{setUserData:d,setUser:o,refetchUserData:p,user:r,_setUser:o,isUserUpdating:u,userError:s}}(S.Moralis),M=_.setUser,R=l(_,["setUser"]),k=function(e){var t=s(s({},{setUser:function(){},Moralis:e.Moralis,environment:"browser"}),e),r=t.onAccountChanged,o=t.Moralis,i=t.environment,u=t._setIsWeb3Enabled,a=t._setIsWeb3EnableLoading,c=e.setUser,d=Object(n.useState)(he),p=d[0],b=d[1],h=Object(n.useState)(!1),y=h[0],w=h[1],O=Object(n.useCallback)((function(e){return void 0===e&&(e={}),f(void 0,void 0,void 0,(function(){var t,r,n=e.onComplete,i=e.onError,s=e.onSuccess,f=e.throwOnError,d=l(e,["onComplete","onError","onSuccess","throwOnError"]);return v(this,(function(e){switch(e.label){case 0:b({state:pe.AUTHENTICATING,error:null}),a&&a(!0),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,o.authenticate(d)];case 2:return t=e.sent(),c(t),u&&u(!0),b({state:pe.AUTHENTICATED,error:null}),s&&s(t),[2,t];case 3:if(r=e.sent(),b({state:pe.ERROR,error:r}),c(null),i&&i(r),f)throw r;return[3,5];case 4:return a&&a(!1),n&&n(),[7];case 5:return[2]}}))}))}),[u,a]),E=Object(n.useCallback)((function(e,t,r,n,i){void 0===n&&(n={});var u=void 0===i?{}:i,a=u.throwOnError,l=u.onSuccess,d=u.onError,p=u.onComplete;return f(void 0,void 0,void 0,(function(){var i,u,f;return v(this,(function(v){switch(v.label){case 0:b({state:pe.AUTHENTICATING,error:null}),i=new o.User,be(s({username:e,password:t,email:r},n),i),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,i.signUp()];case 2:return u=v.sent(),b({state:pe.AUTHENTICATED,error:null}),c(u),l&&l(u),[2,u];case 3:if(f=v.sent(),b({state:pe.ERROR,error:f}),a)throw f;return d&&d(f),[3,5];case 4:return p&&p(),[7];case 5:return[2]}}))}))}),[]),g=Object(n.useCallback)((function(e,t,r){var n=void 0===r?{}:r,i=n.usePost,u=n.throwOnError,a=n.onError,s=n.onSuccess,l=n.onComplete;return f(void 0,void 0,void 0,(function(){var r,n;return v(this,(function(f){switch(f.label){case 0:b({state:pe.AUTHENTICATING,error:null}),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,o.User.logIn(e,t,{usePost:i})];case 2:return r=f.sent(),b({state:pe.AUTHENTICATED,error:null}),c(r),s&&s(r),[2,r];case 3:if(n=f.sent(),b({state:pe.ERROR,error:n}),u)throw n;return a&&a(n),[3,5];case 4:return l&&l(),[7];case 5:return[2]}}))}))}),[]),m=Object(n.useCallback)((function(e){var t=void 0===e?{}:e,r=t.throwOnError,n=t.onError,i=t.onSuccess,u=t.onComplete;return f(void 0,void 0,void 0,(function(){var e,t;return v(this,(function(a){switch(a.label){case 0:b({state:pe.AUTHENTICATING,error:null}),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,o.User.logOut()];case 2:return a.sent(),b({state:pe.UNAUTHENTICATED,error:null}),c(null),i&&i(),[3,5];case 3:if(e=a.sent(),b({state:pe.ERROR,error:e}),c(null!==(t=o.User.current())&&void 0!==t?t:null),r)throw e;return n&&n(e),[3,5];case 4:return u&&u(),[7];case 5:return[2]}}))}))}),[]);Object(n.useEffect)((function(){try{var e=o.User.current();if(!e)throw new Error("Let it catch");b({state:pe.AUTHENTICATED,error:null}),c(e)}catch(t){b({state:pe.UNAUTHENTICATED,error:null}),c(null)}}),[]),Object(n.useEffect)((function(){if(!y&&"browser"===i)if(window){try{var e=window.ethereum;if(!e)return void console.warn("No window.ethereum found");e.on("accountsChanged",(function(e){return f(void 0,void 0,void 0,(function(){var t;return v(this,(function(n){return t=e[0],r&&r(t),[2]}))}))}))}catch(t){console.warn(t.message)}w(!0)}else console.warn("No window object found")}),[y]);var j=p.state===pe.AUTHENTICATED,A=p.state===pe.UNAUTHENTICATED,I=p.state===pe.AUTHENTICATING,P=p.state===pe.ERROR,U=p.state===pe.LOGGING_OUT,S=p.state===pe.UNDEFINED;return{auth:p,authenticate:O,signup:E,login:g,logout:m,authError:p.error,isAuthenticated:j,isUnauthenticated:A,isAuthenticating:I,hasAuthError:P,isLoggingOut:U,isAuthUndefined:S}}({onAccountChanged:E,setUser:M,Moralis:S.Moralis,environment:S.environment,_setIsWeb3Enabled:N,_setIsWeb3EnableLoading:C});return Object(o.jsx)(p.Provider,s({value:s(s(s(s(s({},S),k),R),D),{appId:A,serverUrl:U})},{children:t}),void 0)},we=function(){var e=O().Moralis;return s({Web3API:e.Web3API},e.Web3API)}}}]);